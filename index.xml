<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>mkarakiのブログ</title><link>https://blog.mkarakiapps.com/</link><description>Recent content on mkarakiのブログ</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Sun, 27 Dec 2020 00:00:00 +0900</lastBuildDate><atom:link href="https://blog.mkarakiapps.com/index.xml" rel="self" type="application/rss+xml"/><item><title>Windows 10をUSBメモリなどに手動でインストールする方法</title><link>https://blog.mkarakiapps.com/p/windows-10%E3%82%92usb%E3%83%A1%E3%83%A2%E3%83%AA%E3%81%AA%E3%81%A9%E3%81%AB%E6%89%8B%E5%8B%95%E3%81%A7%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/</link><pubDate>Sun, 27 Dec 2020 00:00:00 +0900</pubDate><guid>https://blog.mkarakiapps.com/p/windows-10%E3%82%92usb%E3%83%A1%E3%83%A2%E3%83%AA%E3%81%AA%E3%81%A9%E3%81%AB%E6%89%8B%E5%8B%95%E3%81%A7%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="まえがき">まえがき&lt;/h1>
&lt;p>かなり前の話になりますが、株式会社アーク情報システムということろが「BOOT革命/USB」という製品を作っていました。
この製品は、WindowsをUSBに入れる事ができることを売りにしていたソフトで、私は全く使いませんでしたが一応持ってはいました。
今回、SSDの代わりに低容量のUSBメモリを臨時で使いたいという問い合わせがあり、私なりに方法を探ったのでメモとして残します。&lt;/p>
&lt;h1 id="注意">注意&lt;/h1>
&lt;p>この記事で紹介する動作について、一切の責任を負いませんので予めご了承ください。
もし、この記事を参考にし作業する際は、自己責任でお願いします。&lt;/p>
&lt;h1 id="検証環境">検証環境&lt;/h1>
&lt;ul>
&lt;li>Windows 10 Home x64 (ビルド不明)&lt;/li>
&lt;li>VMWare Workstation 16 Player&lt;/li>
&lt;/ul>
&lt;h1 id="手順">手順&lt;/h1>
&lt;h2 id="パーティションの設定">パーティションの設定&lt;/h2>
&lt;p>Windows 10の場合、基本的にパーティションは3つ生成されます。
しかし、1つは回復領域であるため無視し、EFI用とシステム用の2つのみで構成しようと思います。&lt;/p>
&lt;p>パーティションは以下のようになります。&lt;/p>
&lt;ol>
&lt;li>200MB-500MB程度 FAT32 Active&lt;/li>
&lt;li>残りの容量 NTFS&lt;/li>
&lt;/ol>
&lt;p>設定方法は解説しませんがActiveにする方法として、&lt;code>diskpart&lt;/code>でパーティションを選択し&lt;code>active&lt;/code>コマンドを打つ方法があります。&lt;/p>
&lt;p>設定する上で2つのパーティションにドライブレターが割り当てられている必要があります。ここから先の手順では、上からそれぞれ&lt;code>E:&lt;/code>と&lt;code>F:&lt;/code>が割り当てられているとします。&lt;/p>
&lt;h2 id="イメージの展開">イメージの展開&lt;/h2>
&lt;p>一般のキッティングにも使われているであろう&lt;code>Dism&lt;/code>を使います。事前にWindows 10のインストールメディア内の&lt;code>sources/install.esd&lt;/code>を抽出してください。
此処から先の工程では、作業ディレクトリ内に抽出した&lt;code>install.esd&lt;/code>が存在し、アクセス権がある状態を想定し記載します。&lt;/p>
&lt;h3 id="イメージidを調べる">イメージIDを調べる&lt;/h3>
&lt;p>管理者権限のPowerShellもしくはコマンドプロンプトで次のコマンドを入力します。&lt;/p>
&lt;pre>&lt;code class="language-plaintext:PowerShell（管理者）" data-lang="plaintext:PowerShell（管理者）">&amp;gt; Dism /Get-WimInfo /WimFile:install.esd
&lt;/code>&lt;/pre>&lt;p>希望するエディションのインデックスを覚えておいてください。
此処から先では、&lt;code>Windows 10 Home（インデックス: 1）&lt;/code>をインストールする前提で記載していきます。&lt;/p>
&lt;h3 id="イメージを展開する">イメージを展開する&lt;/h3>
&lt;p>イメージを展開します。&lt;code>/Index:&lt;/code>と&lt;code>/ApplyDir:&lt;/code>は各自の環境に応じて変更してください。&lt;/p>
&lt;pre>&lt;code class="language-plaintext:PowerShell（管理者）" data-lang="plaintext:PowerShell（管理者）">&amp;gt; Dism /Apply-Image /ImageFile:install.esd /Index:1 /ApplyDir:F:\
&lt;/code>&lt;/pre>&lt;h3 id="ブートローダーの設定">ブートローダーの設定&lt;/h3>
&lt;p>&lt;code>bcdboot&lt;/code>を使用し、ブートローダーを設定します。各自で&lt;code>E:\Windows&lt;/code>、&lt;code>/l ja-JP&lt;/code>、&lt;code>/s E:&lt;/code>については読み替えてください。
また、&lt;code>/l ja-JP&lt;/code>はなくても動くはずです。&lt;/p>
&lt;pre>&lt;code class="language-plaintext:PowerShell（管理者）" data-lang="plaintext:PowerShell（管理者）">&amp;gt; bcdboot F:\Windows /l ja-JP /s E: /f ALL
&lt;/code>&lt;/pre>&lt;h3 id="設定oobe">設定（OOBE）&lt;/h3>
&lt;p>あとはUSBメモリからブートし、普通に設定をしていくだけです。&lt;/p>
&lt;h1 id="参考">参考&lt;/h1>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ohaohaoha.cocolog-nifty.com/blog/2015/08/windows-to-go-f.html" target="_blank" rel="noopener"
>Windows To Goを作る: おはのおはなし&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.microsoft.com/ja-jp/windows-hardware/manufacture/desktop/bcdboot-command-line-options-techref-di" target="_blank" rel="noopener"
>BCDBoot のコマンド ライン オプション | Microsoft Docs&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>docomo らくらくホン F-02J 物理ボタンのキーコード一覧</title><link>https://blog.mkarakiapps.com/p/docomo-%E3%82%89%E3%81%8F%E3%82%89%E3%81%8F%E3%83%9B%E3%83%B3-f-02j-%E7%89%A9%E7%90%86%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%AE%E3%82%AD%E3%83%BC%E3%82%B3%E3%83%BC%E3%83%89%E4%B8%80%E8%A6%A7/</link><pubDate>Fri, 13 Nov 2020 00:00:00 +0900</pubDate><guid>https://blog.mkarakiapps.com/p/docomo-%E3%82%89%E3%81%8F%E3%82%89%E3%81%8F%E3%83%9B%E3%83%B3-f-02j-%E7%89%A9%E7%90%86%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%AE%E3%82%AD%E3%83%BC%E3%82%B3%E3%83%BC%E3%83%89%E4%B8%80%E8%A6%A7/</guid><description>&lt;p>メモ用です&lt;/p>
&lt;h2 id="環境">環境&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">データ&lt;/th>
&lt;th style="text-align:left">値&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">メーカー&lt;/td>
&lt;td style="text-align:left">Fujitsu (docomo)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">機種&lt;/td>
&lt;td style="text-align:left">F-02J&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Androidバージョン&lt;/td>
&lt;td style="text-align:left">5.1.1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">ビルド番号&lt;/td>
&lt;td style="text-align:left">V28R066A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="調べ方">調べ方&lt;/h2>
&lt;p>Android API の&lt;code>onKeyDown&lt;/code>メソッド引数&lt;code>keyCode&lt;/code>を参照&lt;/p>
&lt;h1 id="実測値">実測値&lt;/h1>
&lt;h2 id="ダイヤルパッド">ダイヤルパッド&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">1&lt;/td>
&lt;td style="text-align:left">8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">2&lt;/td>
&lt;td style="text-align:left">9&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">3&lt;/td>
&lt;td style="text-align:left">10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">4&lt;/td>
&lt;td style="text-align:left">11&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">5&lt;/td>
&lt;td style="text-align:left">12&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">6&lt;/td>
&lt;td style="text-align:left">13&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">7&lt;/td>
&lt;td style="text-align:left">14&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">8&lt;/td>
&lt;td style="text-align:left">15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">9&lt;/td>
&lt;td style="text-align:left">16&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">*&lt;/td>
&lt;td style="text-align:left">17&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">0&lt;/td>
&lt;td style="text-align:left">7&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">#&lt;/td>
&lt;td style="text-align:left">18&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="ワンタッチダイアル">ワンタッチダイアル&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">１&lt;/td>
&lt;td style="text-align:left">96&lt;/td>
&lt;td style="text-align:left">外部アプリケーションのポインタ切り替えにも利用（無効化不可）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">２&lt;/td>
&lt;td style="text-align:left">97&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">３&lt;/td>
&lt;td style="text-align:left">98&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="方向サブメニューキー">方向・サブメニューキー&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">↑&lt;/td>
&lt;td style="text-align:left">19&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">↓&lt;/td>
&lt;td style="text-align:left">20&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">←&lt;/td>
&lt;td style="text-align:left">21&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">→&lt;/td>
&lt;td style="text-align:left">22&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">決定&lt;/td>
&lt;td style="text-align:left">23&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">メニュー&lt;/td>
&lt;td style="text-align:left">131&lt;/td>
&lt;td style="text-align:left">Androidの機能に割り当てられている可能性あり（詳細不明）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">電話帳&lt;/td>
&lt;td style="text-align:left">132&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="発信戻る">発信・戻る&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">発信&lt;/td>
&lt;td style="text-align:left">5&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">戻る&lt;/td>
&lt;td style="text-align:left">4&lt;/td>
&lt;td style="text-align:left">AndroidのBackボタンに割り当て&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">切断&lt;/td>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">不明（アプリケーションの終了になっているため）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="本体下部ファンクションボタン">本体下部ファンクションボタン&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">使い方&lt;/td>
&lt;td style="text-align:left">104&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">らくらくサイト&lt;/td>
&lt;td style="text-align:left">105&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">カメラ&lt;/td>
&lt;td style="text-align:left">103&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="サイドボタン">サイドボタン&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">読み上げ&lt;/td>
&lt;td style="text-align:left">102&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">+&lt;/td>
&lt;td style="text-align:left">24&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">-&lt;/td>
&lt;td style="text-align:left">25&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="ワンタッチブザー">ワンタッチブザー&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">表示キー&lt;/th>
&lt;th style="text-align:left">キーコード&lt;/th>
&lt;th style="text-align:left">備考&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">ワンタッチブザー&lt;/td>
&lt;td style="text-align:left">83&lt;/td>
&lt;td style="text-align:left">（引き抜き時のみ。引き抜き状態では画面が隠される）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Raspberry Pi上でUbuntu server 20.04を動かしてsshできるようにするまで</title><link>https://blog.mkarakiapps.com/p/raspberry-pi%E4%B8%8A%E3%81%A7ubuntu-server-20.04%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6ssh%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%BE%E3%81%A7/</link><pubDate>Sat, 10 Oct 2020 00:00:00 +0900</pubDate><guid>https://blog.mkarakiapps.com/p/raspberry-pi%E4%B8%8A%E3%81%A7ubuntu-server-20.04%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6ssh%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B%E3%81%BE%E3%81%A7/</guid><description>&lt;h1 id="経緯">経緯&lt;/h1>
&lt;p>Raspbian環境が壊れたので新しく環境を用意しようとしたところ、私の大好きなUbuntuが使えることを知りました。しかし、インストールからsshできるまでかなりの時間を割かなければならなかったので、ここにメモがてら書き留めることにしました。&lt;/p>
&lt;h1 id="イメージ焼き">イメージ焼き&lt;/h1>
&lt;p>特に難しいことはないです。&lt;a class="link" href="https://ubuntu.com/download/raspberry-pi" target="_blank" rel="noopener"
>Install Ubuntu Server on a Raspberry Pi 2, 3 or 4 | Ubuntu&lt;/a> から使いたいRaspberry Pi向けのイメージをダウンロードしてください。
その際、zipではなくxzで圧縮されていますので、Windowsユーザーの方は7zipなどを使ってください。&lt;/p>
&lt;h1 id="起動">起動&lt;/h1>
&lt;p>初期パスワードだけ注意してください。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ユーザー名&lt;/th>
&lt;th>パスワード&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>ubuntu&lt;/td>
&lt;td>ubuntu&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>その際、パスワードの変更を求められます。もう一度初期パスワードの入力をしなければならないのでご注意ください。&lt;/p>
&lt;h1 id="openssh-serverの設定">openssh-serverの設定&lt;/h1>
&lt;p>openssh-serverはインストールされていますが、hostkeyが設定されていません。
次のコマンドを使ってhostkeyを自動生成させてください。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">$ sudo dpkg-reconfigure openssh-server
&lt;/code>&lt;/pre>&lt;/div>&lt;p>生成出来たらopenssh-serverを再起動してください。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-shell" data-lang="shell">$ sudo service ssh restart
&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="参考">参考&lt;/h1>
&lt;ul>
&lt;li>Ubuntu 20.04 LTS Server を Raspberry Pi 4 にインストール - Qiita, &lt;a href="https://qiita.com/azumabashi/items/182f365cf7405156788c">https://qiita.com/azumabashi/items/182f365cf7405156788c&lt;/a> 2020.10.10 参照.&lt;/li>
&lt;li>How To: Ubuntu / Debian Linux Regenerate OpenSSH Host Keys - nixCraft, &lt;a href="https://www.cyberciti.biz/faq/howto-regenerate-openssh-host-keys/">https://www.cyberciti.biz/faq/howto-regenerate-openssh-host-keys/&lt;/a> 2020.10.10 参照.&lt;/li>
&lt;/ul></description></item></channel></rss>